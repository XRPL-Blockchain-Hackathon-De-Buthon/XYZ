# PRD – XRPFI (xrpfi.xyz)

> **"XRPL 사용자를 위한 멀티체인 스테이킹 수익 미러링 플랫폼"**

---

## 📌 개요

- **프로젝트명**: XRPFI
- **도메인**: [https://xrpfi.xyz](https://xrpfi.xyz)
- **목표**: XRP를 예치하면 Axelar를 통해 PoS 체인으로 자산이 브릿징되고, 스테이킹 수익이 XRPL 상에서 RLUSD 등으로 지급되는 Web3 서비스 제공
- **대상 유저**: XRPL 사용자, Web3 입문자, DeFi 관심 유저
- **디자인 방향**:
  - 배경: **블랙 다크 테마**
  - 스타일: **모던하고 깔끔한 Web3 UI** (네온 포인트 + 카드 기반)

---

## 🧩 핵심 기능 (MVP 기준)

| 기능              | 설명                                          |
| ----------------- | --------------------------------------------- |
| **지갑 연결**     | Xaman, FuturePass 지갑 연결 지원              |
| **홈 대시보드**   | 스테이킹 현황, 누적 보상, 자산 추이 차트 표시 |
| **스테이킹 입력** | XRP 입력 → 예상 수익 미리 보기 → 전송 처리    |
| **스테이킹 해지** | 해지 수량 입력 → 스테이킹 해제 트랜잭션 실행  |

---

## 🔧 기술 스택

| 항목              | 사용 기술                                 |
| ----------------- | ----------------------------------------- |
| **Frontend**      | Next.js, TypeScript, Tailwind CSS v4      |
| **UI 라이브러리** | shadcn/ui, lucide-react                   |
| **지갑 연동**     | xrpl.js, Xaman SDK, FuturePass API (예정) |
| **상태 관리**     | Zustand                                   |
| **데이터 통신**   | TanStack Query (@tanstack/react-query)    |
| **차트 시각화**   | Recharts                                  |

**추가 패키지**

```bash
npm install tailwindcss lucide-react @tanstack/react-query zustand recharts xrpl
```

---

## 🖥️ 페이지 구성

### 1. `/` – 홈 대시보드

| 기능               | 설명                                         |
| ------------------ | -------------------------------------------- |
| 스테이킹 요약 카드 | 스테이킹 수량, 누적 보상, 예치율 표시        |
| 자산 추이 그래프   | Recharts 기반 시각화 (날짜별 보상/자산 변화) |
| 지갑 정보 표시     | 연결 상태, 지갑 주소, 보유 자산 등           |

---

### 2. `/stake` – 스테이킹 입력

| 기능                   | 설명                                      |
| ---------------------- | ----------------------------------------- |
| 입력 필드              | 스테이킹할 XRP 수량 입력                  |
| 실시간 보상 시뮬레이션 | APR 기준 예상 수익 표시                   |
| 트랜잭션 처리          | XRPL 예치 트랜잭션 실행 및 처리 상태 표시 |
| 유의사항 안내          | 보상 지급 주기, 해지 정책 등 툴팁         |

---

### 3. `/withdraw` – 스테이킹 해지

| 기능                    | 설명                              |
| ----------------------- | --------------------------------- |
| 잔여 스테이킹 수량 표시 | 현재 예치 자산, 남은 기간 등 표시 |
| 해지 수량 입력          | 직접 입력 또는 슬라이더 제공      |
| 해지 실행               | XRPL 트랜잭션 실행 및 피드백 제공 |

---

## 🔌 지갑 연결 상세

| 지갑       | 방식                                               |
| ---------- | -------------------------------------------------- |
| Xaman      | Xaman SDK - 브라우저 기반 연결 (xumm.min.js)       |
| FuturePass | 추후 구현 예정                                     |
| 지갑 상태  | 전역 상태로 관리 (Zustand), Header에 드롭다운 표시 |

---

## 📈 데이터 모델 예시

```ts
type StakingInfo = {
	walletAddress: string;
	stakedAmount: number;
	earnedReward: number;
	history: Array<{
		date: string;
		staked: number;
		reward: number;
	}>;
};
```

---

## 🛠️ Task Breakdown – 단계별 구현 목록

### 🟣 1단계: 프로젝트 셋업

- [x] Next.js + TypeScript 초기 프로젝트 생성
- [x] Tailwind CSS 4 설치 및 다크 테마 적용
- [x] lucide-react, shadcn/ui 설치 및 테스트 컴포넌트 구성
- [x] 기본 라우팅 구조 `/`, `/stake`, `/withdraw` 설정

---

### 🟢 2단계: 공통 레이아웃 및 컴포넌트

- [x] Header / Footer / Page Wrapper 작성
- [x] 공통 Button, Card, Modal, Toast 컴포넌트 제작
- [x] 테마 스타일 가이드 확정 (폰트, 색상, 간격 등)

---

### 🔵 3단계: 지갑 연결

- [x] Xaman SDK 연동 (연결/해제 상태 관리)
- [x] FuturePass 연결 UI 구현 (추후 실제 연동 예정)
- [x] Zustand로 전역 지갑 상태 저장
- [x] 지갑 주소, 잔액 UI 구성 및 드롭다운 메뉴 추가

---

### 🟢 4단계: 기능별 페이지 구현

#### `/` 홈

- [x] 사용자 스테이킹 요약 카드 구현
- [x] 자산 추이 그래프(Recharts) 구현
- [x] 지갑 연결 상태에 따라 UI 동적 표시

#### `/stake`

- [x] 수량 입력 필드 및 예외 처리
- [x] 예상 수익 계산 함수 및 표시
- [x] 스테이킹 실행 버튼 → 트랜잭션 처리 UI
- [x] 처리 중/완료/실패 모달 구성

#### `/withdraw`

- [x] 잔여 스테이킹 데이터 불러오기
- [x] 수량 입력 및 슬라이더 UI
- [x] 해지 트랜잭션 실행 → 상태 피드백

---

### 🧠 5단계: 데이터/상태 관리

- [x] Zustand 기반 지갑 및 사용자 정보 상태 관리
- [x] 서버 API 연동을 위한 Axios 기반 요청 함수
- [x] API 문서화 및 예제 코드 작성

---

### 🧪 6단계: 테스트 및 디버깅

- [ ] 입력값 검증, 잘못된 수량 방지
- [ ] 트랜잭션 실패, 연결 실패 등 예외 처리
- [ ] 반응형 UI 점검 및 모바일 대응

---

### 🚀 7단계: 배포 및 해커톤 제출

- [x] Vercel 배포, 커스텀 도메인 연결 (xrpfi.xyz)
- [ ] Meta tag, favicon, 로딩 스플래시 구성
- [ ] README / 사용설명 작성 (지갑 연결, 기능 흐름)

---

## 📌 향후 확장 아이디어 (MVP 이후)

- 스테이킹 NFT (예치 증서 발행 및 거래)
- 멀티체인 리밸런싱 / 자동 재스테이킹 기능
- 모바일 앱 및 FuturePass 중심 로그인 전환

## 개발 단계

1. UI/UX

   - [x] 기본 UI 컴포넌트 (버튼, 인풋, 카드 등)
   - [x] 전역 레이아웃 (헤더, 푸터)
   - [x] 페이지별 컴포넌트 (홈, 스테이킹, 해지 등)
   - [x] 반응형 디자인
   - [x] 애니메이션 및 트랜지션

2. 지갑 연결

   - [x] XRPL 지갑 연결 기능
   - [x] 지갑 정보 표시 (주소, 잔액 등)
   - [x] 연결 해제 기능

3. 스마트 컨트랙트 연동

   - [ ] 스테이킹 컨트랙트 연동
   - [ ] 해지 기능 연동
   - [ ] 이벤트 리스너 구현

4. 데이터/상태 관리

   - [x] Zustand 기반 지갑 및 사용자 정보 상태 관리
   - [x] 서버 API 연동을 위한 Axios 기반 요청 함수
   - [x] API 문서화 및 예제 코드 작성

5. 페이지 구현

   - [x] 홈 페이지 (대시보드)
   - [x] 스테이킹 페이지
   - [x] 해지 페이지
   - [ ] 에러 페이지

6. 테스트

   - [ ] 단위 테스트
   - [ ] 통합 테스트
   - [ ] E2E 테스트

7. 배포
   - [ ] CI/CD 파이프라인 구축
   - [ ] 프로덕션 환경 구성
   - [ ] 모니터링 시스템 구축
